<ion-header mode="ios">
  <ion-toolbar>
    <ion-butttons slot="start">
      <ion-back-button defaultHref="agenda"></ion-back-button>
    </ion-butttons>
    <div style="text-align: center; width: 80%">
      <span id="title">Perfil</span>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-label class="header">DETALHES DO PERFIL</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="subHeader">Nome</ion-label>
        <ion-label>{{ userService.user.nome }}</ion-label>
      </ion-col>
      <ion-col size="1" class="ion-align-self-end" (click)="extendColName()">
        <ion-icon name="{{ arrowName }}"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isExpandedName" class="ion-justify-content-center">
      <ion-col id="extendedName">
        <ion-icon *ngIf="!userService.user.imgperfil" src="assets/addImage.svg" (click)="selectPerfilImg()"></ion-icon>
        <div id="imgContainer" *ngIf="userService.user.imgperfil">
          <div (click)="selectPerfilImg()">
            <img *ngIf="userService.user.imgperfil" [src]="BASE_URL + '/uploads/' + userService.user.imgperfil" />
          </div>
        </div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isExpandedName" class="ion-justify-content-center">
      <ion-col class="ion-text-center">
        <span>Insira a sua foto</span>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="subHeader">Email</ion-label>
        <ion-label>{{ userService.user.email }}</ion-label>
      </ion-col>
      <!-- <ion-col size="1" align-self-end>
          <ion-icon name="ios-arrow-forward"></ion-icon>
        </ion-col> -->
    </ion-row>
    <ion-row class="endLine">
      <ion-col>
        <ion-label class="subHeader">Telefone</ion-label>
        <ion-label>({{ userService.user.telefones[0].ddd }}) {{ userService.user.telefones[0].numero }}</ion-label>
      </ion-col>
      <!-- <ion-col size="1" align-self-end>
          <ion-icon name="ios-arrow-forward"></ion-icon>
        </ion-col> -->
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="header">DETALHES DE SEGURANÇA</ion-label>
      </ion-col>
    </ion-row>
    <ion-row [class.endLine]="!isExpandedPassword">
      <ion-col>
        <ion-label class="subHeader">Senha</ion-label>
        <ion-label>Mudar senha</ion-label>
      </ion-col>
      <ion-col size="1" class="ion-align-self-end" (click)="extendColPassword()">
        <ion-icon [name]="arrowPassword"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row [class.endLine]="isExpandedPassword" class="ion-justify-content-center" *ngIf="isExpandedPassword">
      <ion-col class="ion-align-self-center" size="10">
        <ion-item>
          <ion-label position="floating">Nova Senha</ion-label>
          <ion-input [(ngModel)]="newPassword" type="password" (keyup)="checkPassword()" pattern="^.{6,}$"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Cofirme a nova senha</ion-label>
          <ion-input [(ngModel)]="confirmNewPassword" type="password" pattern="^.{6,}$"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col id="sendNewPassword" size="2" class="ion-align-self-end ion-text-end" [class.valid]="validPassword && newPassword === confirmNewPassword" (click)="updatePassword()">
        <ion-icon src="assets/send.svg"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="header">IDIOMA</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="subHeader">Selecione o idioma</ion-label>
        <ion-label>Portugês</ion-label>
      </ion-col>
      <!-- <ion-col size="1" align-self-end>
          <ion-icon name="ios-arrow-forward"></ion-icon>
        </ion-col> -->
    </ion-row>
    <ion-row class="ion-justify-content-start">
      <ion-col size="3">
        <ion-label (click)="logout()" id="exitLabel">Sair</ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>